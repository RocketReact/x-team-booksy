{"version":3,"file":"index.js","sources":["../src/js/events.js","../src/js/contact-modal.js","../src/js/header.js","../src/js/feedbacks.js","../src/js/hero-swiper.js","../src/js/hero.js","../src/js/api.js","../src/js/render-functions.js","../src/js/books.js","../src/js/scroll-up.js","../src/js/footer.js","../src/js/modal-window-books.js"],"sourcesContent":["import Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const swiper = new Swiper('.events-swiper', {\n    modules: [Navigation, Pagination],\n    wrapperClass: 'events-swiper-wrapper',\n    slideClass: 'events-swiper-slide',\n    loop: false,\n    spaceBetween: 20,\n    slidesPerView: 1,\n\n    breakpoints: {\n      768: {\n        slidesPerView: 2,\n      },\n      1440: {\n        slidesPerView: 3,\n      },\n    },\n\n    navigation: {\n      nextEl: '.events-swiper-button-next',\n      prevEl: '.events-swiper-button-prev',\n      disabledClass: 'events-swiper-button-disabled',\n    },\n\n    pagination: {\n      el: '.events-swiper-pagination',\n      clickable: true,\n    },\n  });\n\n  /* Random date function */\n\n  const timeElements = document.querySelectorAll('.events-item-time');\n  timeElements.forEach(el => {\n    el.textContent = getRandomFutureTime();\n  });\n});\n\nfunction getRandomFutureTime(daysAhead = 30) {\n  const now = new Date();\n  const future = new Date(\n    now.getTime() + Math.random() * daysAhead * 24 * 60 * 60 * 1000\n  );\n\n  const options = {\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: true,\n  };\n\n  return ` | ${future.toLocaleString('en-US', options)}`;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst modal = document.getElementById('modal');\nconst backdrop = document.getElementById('modalBackdrop');\nconst closeBtn = document.getElementById('modalClose');\nconst form = document.getElementById('registerForm');\n\n//Key for localStorage\nconst STORAGE_KEY = 'register-form-data';\n\n// Field's links\nconst nameInput = form.elements.name;\nconst emailInput = form.elements.email;\nconst messageInput = form.elements.message;\n\n// ==============================\n// Save to localStorage\n// ==============================\nfunction saveToStorage() {\n  const formData = {\n    name: nameInput.value.trim(),\n    email: emailInput.value.trim(),\n    message: messageInput.value.trim(),\n  };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\n// ==============================\n// Restore from localStorage\n// ==============================\nfunction restoreFromStorage() {\n  const saved = localStorage.getItem(STORAGE_KEY);\n  if (!saved) return;\n\n  try {\n    const data = JSON.parse(saved);\n    if (data.name) nameInput.value = data.name;\n    if (data.email) emailInput.value = data.email;\n    if (data.message) messageInput.value = data.message;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to restore saved data.',\n      position: 'topRight',\n    });\n  }\n}\n\n// ==============================\n// Cleaning up after submit\n// ==============================\nfunction clearStorage() {\n  localStorage.removeItem(STORAGE_KEY);\n}\n\n// ==============================\n// Open/Close\n// ==============================\nconst openButtons = document.querySelectorAll('.open-modal-btn');\nconst subtitleEl = modal.querySelector('.modal-subtitle');\n\nopenButtons.forEach(btn => {\n  btn.addEventListener('click', e => {\n    const subtitle = btn.dataset.subtitle || '';\n    subtitleEl.textContent = subtitle;\n    openModal();\n  });\n});\n\nfunction openModal() {\n  modal.style.display = 'block';\n  backdrop.style.display = 'block';\n  document.body.classList.add('modal-open');\n  restoreFromStorage();\n}\n\nfunction closeModal() {\n  modal.style.display = 'none';\n  backdrop.style.display = 'none';\n  document.body.classList.remove('modal-open');\n}\n\n// ==============================\n// Event handlers\n// ==============================\n\ncloseBtn.addEventListener('click', closeModal);\nbackdrop.addEventListener('click', e => {\n  if (e.target === backdrop) {\n    closeModal();\n  }\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') closeModal();\n});\n\n[nameInput, emailInput, messageInput].forEach(input => {\n  input.addEventListener('input', saveToStorage);\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const name = nameInput.value.trim();\n  const email = emailInput.value.trim();\n\n  // Clear previous errors\n  [nameInput, emailInput].forEach(input => {\n    input.addEventListener('input', () => {\n      input.classList.remove('error');\n      saveToStorage();\n    });\n  });\n\n  let hasError = false;\n\n  if (!name || !email) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please fill out required fields: Name and Email',\n      position: 'topRight',\n    });\n\n    if (!name) nameInput.classList.add('error');\n    if (!email) emailInput.classList.add('error');\n\n    hasError = true;\n  }\n\n  // Email validation includes @\n  if (email && !email.includes('@')) {\n    iziToast.error({\n      title: 'Invalid Email',\n      message: 'Email must contain \"@\" symbol',\n      position: 'topRight',\n    });\n    emailInput.classList.add('error');\n    hasError = true;\n  }\n\n  if (hasError) return;\n\n  try {\n    // Error emulation\n    if (email === 'error@example.com') {\n      throw new Error('Simulated server error');\n    }\n\n    iziToast.success({\n      title: 'Success',\n      message: 'Form submitted!',\n      position: 'topRight',\n    });\n\n    form.reset();\n    clearStorage();\n    closeModal();\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `Something went wrong: ${error.message}`,\n      position: 'topRight',\n    });\n  }\n});\n","\nconst burgerEl = document.querySelector('#burger-button')\nconst menuEl = document.querySelector('#mobile_menu')\nconst navListEl = document.querySelector('#nav-links')\nexport const body = document.body;\n\n// ? Відкриває мобільне меню\nconst onBurgerClick = (e) => {\n    menuEl.classList.add(\"mob-menu-open\")\n    body.classList.add(\"no-scroll\")\n}\n\n// ? Закриває мобільне меню\nconst closeMenuHandler = (e) => {\n    // ! Шукає найближчого предка по селектору, якщо такого нема - повертає null\n    const button = e.target.closest('button')\n    const navLink = e.target.closest('.nav-list-mob-link');\n    // ! null = false, якщо хоча б один елемент наявний, провірка проходить далі\n  if (button || navLink) {\n      menuEl.classList.remove('mob-menu-open');\n      body.classList.remove(\"no-scroll\")\n  }\n}\n\n// ? ховає або показує потрібний бургер в залежності від в'юпорта \nconst hideElement = () => {\n    if (window.innerWidth >= 768) {\n        navListEl.classList.remove('visually-hidden');\n        burgerEl.classList.add('visually-hidden');\n    }\n    else {\n        burgerEl.classList.remove('visually-hidden');\n        navListEl.classList.add('visually-hidden');\n    }\n}\n\nhideElement() // ? Провірка в'юпорта при загрузці сторінки\nburgerEl.addEventListener('click', onBurgerClick);\nmenuEl.addEventListener('click', closeMenuHandler)\nwindow.addEventListener('resize', hideElement)","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport '../css/feedbacks.css';\n\nconst swiper = new Swiper('.swiper-feedback', {\n  modules: [Navigation, Pagination, Keyboard],\n  wrapperClass: 'swiper-wrapper-feedback',\n  slideClass: 'swiper-slide-feedback',\n  loop: false,\n  direction: 'horizontal',\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  centeredSlides: false,\n  simulateTouch: true,\n  touchRatio: 1,\n  grabCursor: true,\n  watchOverflow: true,\n  speed: 250,\n  spaceBetween: 24,\n\n  lazy: {\n    loadPrevNext: true,\n    loadOnTransitionStart: true,\n  },\n\n  breakpoints: {\n    768: {\n      slidesPerView: 2,\n      slidesPerGroup: 1,\n    },\n    1440: {\n      slidesPerView: 3,\n      slidesPerGroup: 1,\n    },\n  },\n\n  pagination: {\n    el: '.custom-swiper-pagination',\n    type: 'bullets',\n    clickable: true,\n    bulletClass: 'swiper-pagination-bullet',\n    bulletActiveClass: 'swiper-pagination-bullet-active',\n  },\n\n  navigation: {\n    nextEl: '.feedback-custom-swiper-button-next',\n    prevEl: '.feedback-custom-swiper-button-prev',\n    disabledClass: 'feedback-custom-swiper-button-disabled',\n  },\n\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n});\n\nfunction getCurrentSlidesPerGroup() {\n  const width = window.innerWidth;\n  if (width >= 1440) return 3;\n  if (width >= 768) return 2;\n  return 1;\n}\n\nfunction togglePaginationAndNavigation() {\n  const totalSlides = swiper.slides.length;\n  const currentGroup = getCurrentSlidesPerGroup();\n\n  const paginationEl = document.querySelector('.custom-swiper-pagination');\n  const prevBtn = document.querySelector('.feedback-custom-swiper-button-prev');\n  const nextBtn = document.querySelector('.feedback-custom-swiper-button-next');\n\n  if (totalSlides <= currentGroup) {\n    if (paginationEl) paginationEl.style.display = 'none';\n    if (prevBtn) prevBtn.style.display = 'none';\n    if (nextBtn) nextBtn.style.display = 'none';\n  } else {\n    if (paginationEl) paginationEl.style.display = '';\n    if (prevBtn) prevBtn.style.display = '';\n    if (nextBtn) nextBtn.style.display = '';\n  }\n}\n\ntogglePaginationAndNavigation();\n\n// На изменение размера окна — чтобы динамически обновлялось\nwindow.addEventListener('resize', () => {\n  togglePaginationAndNavigation();\n});","import Swiper from 'swiper';\nimport { Navigation, Pagination, Autoplay, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\n\nconst swiper = new Swiper('.hero-swiper', {\n  modules: [Navigation, Pagination, Autoplay, Keyboard],\n  direction: 'horizontal',\n  loop: false,\n  spaceBetween: 16,\n  grabCursor: true,\n  autoplay: {\n    delay: 2500,\n    disableOnInteraction: true,\n    pauseOnMouseEnter: true,\n  },\n\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n\n  navigation: {\n    nextEl: '.hero-swiper-button-next',\n    prevEl: '.hero-swiper-button-prev',\n  },\n\n  on: {\n    slideChange(swiper) {\n      const nextBtn = document.querySelector('.hero-swiper-button-next');\n      const prevBtn = document.querySelector('.hero-swiper-button-prev');\n\n      swiper.isEnd\n        ? nextBtn?.classList.add('is-disabled')\n        : nextBtn?.classList.remove('is-disabled');\n\n      swiper.isBeginning\n        ? prevBtn?.classList.add('is-disabled')\n        : prevBtn?.classList.remove('is-disabled');\n    },\n\n    init(swiper) {\n      const prevBtn = document.querySelector('.hero-swiper-button-prev');\n      swiper.isBeginning\n        ? prevBtn?.classList.add('is-disabled')\n        : prevBtn?.classList.remove('is-disabled');\n    },\n  },\n});\ndocument\n  .querySelectorAll('.hero-swiper-button-prev, .hero-swiper-button-next')\n  .forEach(button => {\n    button.addEventListener('mouseup', () => {\n      button.blur();\n    });\n  });\n","const SLIDES = [\n  {\n    alt: 'Mug with book on the table',\n    text: 'Get 10% off your ',\n    highlight: 'first order',\n    link: '#books',\n    images: {\n      desktop: {\n        src: './img/desktop-webp/banner-1-desktop.webp',\n        src2x: './img/desktop-webp/banner-1-desktop@2x.webp',\n      },\n      tablet: {\n        src: './img/tablet-webp/banner-1-tablet.webp',\n        src2x: './img/tablet-webp/banner-1-tablet@2x.webp',\n      },\n      mobile: {\n        src: './img/mob-webp/banner-1-mob.webp',\n        src2x: './img/mob-webp/banner-1-mob@2x.webp',\n      },\n    },\n  },\n  {\n    alt: 'Glasses with book on the table',\n    text: 'Save 15% on ',\n    highlight: 'some books',\n    link: '#books',\n    images: {\n      desktop: {\n        src: './img/desktop-webp/banner-2-desktop.webp',\n        src2x: './img/desktop-webp/banner-2-desktop@2x.webp',\n      },\n      tablet: {\n        src: './img/tablet-webp/banner-2-tablet.webp',\n        src2x: './img/tablet-webp/banner-2-tablet@2x.webp',\n      },\n      mobile: {\n        src: './img/mob-webp/banner-2-mob.webp',\n        src2x: './img/mob-webp/banner-2-mob@2x.webp',\n      },\n    },\n  },\n  {\n    alt: 'Shelf with books',\n    text: 'Summer Sale! ',\n    highlight: 'Up to -40% discounts',\n    link: '#books',\n    images: {\n      desktop: {\n        src: './img/desktop-webp/banner-3-desktop.webp',\n        src2x: './img/desktop-webp/banner-3-desktop@2x.webp',\n      },\n      tablet: {\n        src: './img/tablet-webp/banner-3-tablet.webp',\n        src2x: './img/tablet-webp/banner-3-tablet@2x.webp',\n      },\n      mobile: {\n        src: './img/mob-webp/banner-3-mob.webp',\n        src2x: './img/mob-webp/banner-3-mob@2x.webp',\n      },\n    },\n  },\n  {\n    alt: 'Vase on the table',\n    text: 'Last chance to buy our ',\n    highlight: 'spring bestsellers',\n    link: '#books',\n    images: {\n      desktop: {\n        src: './img/desktop-webp/banner-4-desktop.webp',\n        src2x: './img/desktop-webp/banner-4-desktop@2x.webp',\n      },\n      tablet: {\n        src: './img/tablet-webp/banner-4-tablet.webp',\n        src2x: './img/tablet-webp/banner-4-tablet@2x.webp',\n      },\n      mobile: {\n        src: './img/mob-webp/banner-4-mob.webp',\n        src2x: './img/mob-webp/banner-4-mob@2x.webp',\n      },\n    },\n  },\n];\n\nconst wrapperContainer = document.querySelector('.hero-js');\nconst generateMarkup = arr => {\n  return arr\n    .map(slide => {\n      return `<li class=\"swiper-slide hero-swiper-slide\">\n      <picture>\n      <source media=\"(min-width: 1440px)\" type=\"image/webp\" srcset=\"${slide.images.desktop.src} 1x, ${slide.images.desktop.src2x} 2x\">\n      <source media=\"(min-width: 768px)\" type=\"image/webp\" srcset=\"${slide.images.tablet.src} 1x, ${slide.images.tablet.src2x} 2x\">\n          <img \n            src=\"${slide.images.mobile.src}\" \n            srcset=\"${slide.images.mobile.src} 1x, ${slide.images.mobile.src2x} 2x\"\n            loading=\"lazy\"\n            width=\"343\"\n            height=\"199\"\n            alt=\"${slide.alt}\" />\n          </picture>\n          <div class=\"banner-wrapper\">\n            <p class=\"hero-text\">\n              ${slide.text}<span class=\"hero-text-wrap\">${slide.highlight}</span>\n            </p>\n            <a class=\"hero-link\" href=\"${slide.link}\">Shop Now!</a>\n          </div>\n        </li>`;\n    })\n    .join('');\n};\n\nconst createGallery = slides => {\n  wrapperContainer.innerHTML = generateMarkup(slides);\n};\n\ncreateGallery(SLIDES);\n","import axios from 'axios';\nimport iziToast from 'izitoast';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/books/';\n\nlet categoriesCache = null;\nlet totalBooksCache = null;\n\n// Gets list of book categories\nexport async function getCategoryList() {\n  if (categoriesCache !== null) {\n    return categoriesCache;\n  }\n\n  try {\n    const response = await axios.get('category-list');\n    // Filter out empty or invalid categories\n    const filteredCategories = response.data.filter(\n      category =>\n        category &&\n        category.list_name &&\n        category.list_name.trim() !== '' &&\n        category.list_name.trim() !== ' '\n    );\n    categoriesCache = filteredCategories;\n    return filteredCategories;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to load categories',\n      position: 'topRight',\n    });\n    return [];\n  }\n}\n\n// Gets list of top books\nexport async function getTopBooks() {\n  try {\n    const response = await axios.get('top-books');\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to load top books',\n      position: 'topRight',\n    });\n    return [];\n  }\n}\n\n// Gets books by category\nexport async function getBooksByCategory(category) {\n  try {\n    const encodedCategory = encodeURIComponent(category);\n    const response = await axios.get(`category?category=${encodedCategory}`);\n\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `Failed to load books for category: ${category}`,\n      position: 'topRight',\n    });\n    return [];\n  }\n}\n\n// Gets book information by ID\nexport async function getBooksById(id) {\n  try {\n    const response = await axios.get(id);\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to load book details',\n      position: 'topRight',\n    });\n    return [];\n  }\n}\n\n// Gets all unique books from all categories\nexport async function getTotalBooks() {\n  if (totalBooksCache !== null) {\n    return totalBooksCache;\n  }\n  try {\n    const categories = await getCategoryList();\n    if (!categories || !Array.isArray(categories)) {\n      return [];\n    }\n    const categoryNames = categories\n      .filter(category => category.list_name)\n      .map(category => category.list_name);\n\n    const booksDataArrays = await Promise.all(\n      categoryNames.map(getBooksByCategory)\n    );\n\n    const allBooks = booksDataArrays.flat();\n\n    // Filter duplicates and books with zero price\n    const uniqueTitles = new Set();\n    const filteredBooks = allBooks.filter(book => {\n      // Remove books without title or with price 0.00\n      if (!book.title || !book.price || parseFloat(book.price) <= 0) {\n        return false;\n      }\n\n      const normalizedTitle = book.title.trim().toLowerCase();\n      if (uniqueTitles.has(normalizedTitle)) {\n        return false;\n      }\n\n      uniqueTitles.add(normalizedTitle);\n      return true;\n    });\n\n    totalBooksCache = filteredBooks;\n    return filteredBooks;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to load all books',\n      position: 'topRight',\n    });\n    return [];\n  }\n}\n\n// Counts number of books in specific category\nexport async function getCountBooksByCategory(category) {\n  if (!category || category.trim() === '') {\n    return 0;\n  }\n\n  try {\n    const encodedCategory = encodeURIComponent(category);\n    const response = await axios.get(`category?category=${encodedCategory}`);\n    return response.data.length;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `Failed to count books in category: ${category}`,\n      position: 'topRight',\n    });\n    return 0;\n  }\n}\n","import {\n  getCategoryList,\n  getTopBooks,\n  getTotalBooks,\n  getBooksByCategory,\n  getCountBooksByCategory,\n} from './api.js';\nimport { getPaginationValue, setPaginationValue } from './books.js';\nimport iziToast from 'izitoast';\n\n// DOM elements\nexport const topBooksListEl = document.querySelector('.top-books-list');\nconst dropdownMenuEl = document.querySelector('.dropdown-menu');\nconst showMoreBtnEl = document.querySelector('.show-more-btn');\nconst showCountEl = document.querySelector('.show-count');\n\n// Global state variables\nexport let allTopBooks = [];\nexport let page = 1;\nexport const perPage = 4;\nexport let currentCategory = 'All categories';\n\n// Constants\nconst INITIAL_CATEGORY = 'Top';\n\n// Cache for total books count\nlet totalBooksCache = null;\n\nasync function getTotalBooksCount() {\n  if (totalBooksCache === null) {\n    const allBooks = await getTotalBooks();\n    totalBooksCache = allBooks.length;\n  }\n  return totalBooksCache;\n}\n\n// Main function for displaying books\nexport async function displayBooks(books, options = {}) {\n  // Destructure options with default values\n  const {\n    isInitialLoad = false,\n    selectedCategory = 'All categories',\n    resetContent = true,\n  } = options;\n\n  try {\n    // Clear content and reset pagination if needed\n    if (resetContent) {\n      clearBooksContent();\n      resetPage();\n    }\n\n    // Input data validation\n    if (!Array.isArray(books)) {\n      iziToast.warning({\n        title: 'Warning',\n        message: 'displayBooks: books should be an array',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    // Filter books from duplicates and zero prices\n    const filteredBooks = filterBooks(books);\n\n    // Update global state\n    updateAllBooks(filteredBooks);\n    currentCategory = selectedCategory;\n\n    // Calculate number of books for first screen\n    const booksPerScreen = getBooksPerScreen();\n    const initialBooks = filteredBooks.slice(0, booksPerScreen);\n\n    setPaginationValue(initialBooks.length);\n\n    // Display books\n    if (initialBooks.length > 0) {\n      createTopBooksList(initialBooks);\n    } else {\n      showEmptyState();\n    }\n\n    // Initialize categories only on first load\n    if (isInitialLoad) {\n      await initializeCategories();\n    }\n\n    // Update counter and manage \"Show more\" button\n    await updateBooksCounter();\n    toggleShowMoreButton(filteredBooks.length > booksPerScreen);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Error in displayBooks function',\n      position: 'topRight',\n    });\n    showErrorState();\n  }\n}\n\n// Create HTML markup for books list\nexport function createTopBooksList(books) {\n  const markup = books\n    .map(\n      book => `\n        <li class=\"top-book-item\" id=\"${book._id}\">\n            <img\n              class=\"top-book-img\"\n              src=\"${book.book_image}\"\n              alt=\"${book.title}\"\n              width=\"343\" height=\"488\"\n              loading=\"lazy\"\n            />\n          <div class=\"top-book-info\">\n          <div class=\"top-book-info-wrap\">\n            <h3 class=\"top-book-title\">${book.title}</h3>\n            <p class=\"top-book-price\">$${book.price}</p>\n            </div>\n            <p class=\"top-book-author\">${book.author}</p>\n          </div>\n          <button class=\"top-book-btn\" type=\"button\">\n            Learn More\n          </button>\n        </li>\n      `\n    )\n    .join('');\n\n  topBooksListEl.insertAdjacentHTML('beforeend', markup);\n}\n\n// Filter valid categories\nfunction filterValidCategories(categories) {\n  return categories.filter(\n    category =>\n      category &&\n      category.list_name &&\n      category.list_name.trim() !== '' &&\n      category.list_name.trim() !== ' ' &&\n      category.list_name.toLowerCase() !== 'undefined' &&\n      category.list_name.toLowerCase() !== 'null'\n  );\n}\n\n// Create categories list in dropdown\nasync function createCategoryBooksList(arr) {\n  // Filter valid category names\n  const validCategories = arr.filter(\n    categoryName =>\n      categoryName &&\n      categoryName.trim() !== '' &&\n      categoryName.trim() !== ' ' &&\n      categoryName.toLowerCase() !== 'undefined' &&\n      categoryName.toLowerCase() !== 'null'\n  );\n\n  const markup = validCategories\n    .map(item => `<li class=\"dropdown-item\"><p>${item}</p></li>`)\n    .join('');\n\n  dropdownMenuEl.insertAdjacentHTML('beforeend', markup);\n}\n\n// Display books counter\nexport async function createShowCase(count, total) {\n  showCountEl.innerHTML = '';\n  const markup = `<p>Showing ${count} of ${total}</p>`;\n  showCountEl.insertAdjacentHTML('beforeend', markup);\n}\n\n// Pagination functions\nexport function getBooksPerScreen() {\n  const screenWidth = window.innerWidth;\n  return screenWidth >= 768 ? 24 : 10;\n}\n\nexport function getPage() {\n  return page;\n}\n\nexport function incrementPage() {\n  page += 1;\n}\n\nexport function resetPage() {\n  page = 1;\n}\n\n// Book filtering function\nfunction filterBooks(books) {\n  const uniqueTitles = new Set();\n\n  return books.filter(book => {\n    // Remove books without title or with price 0.00\n    if (!book.title || !book.price || parseFloat(book.price) <= 0) {\n      return false;\n    }\n\n    // Normalize title (remove spaces and convert to lowercase)\n    const normalizedTitle = book.title.trim().toLowerCase();\n\n    // Check if this title already exists\n    if (uniqueTitles.has(normalizedTitle)) {\n      return false;\n    }\n\n    // Add title to unique set\n    uniqueTitles.add(normalizedTitle);\n    return true;\n  });\n}\n\n// State management functions\nexport function updateAllBooks(books) {\n  allTopBooks.length = 0;\n  allTopBooks.push(...books);\n}\n\nexport const showShowMoreBtn = () =>\n  showMoreBtnEl.classList.remove('is-hidden');\n\nexport const hideShowMoreBtn = () => showMoreBtnEl.classList.add('is-hidden');\n\n// Helper functions for improved displayBooks\nfunction clearBooksContent() {\n  topBooksListEl.innerHTML = '';\n}\n\nfunction showEmptyState() {\n  topBooksListEl.innerHTML = '<li class=\"empty-state\">No books found</li>';\n}\n\nfunction showErrorState() {\n  topBooksListEl.innerHTML = '<li class=\"error-state\">Error loading books</li>';\n}\n\nasync function initializeCategories() {\n  try {\n    const allCategories = await getCategoryList();\n    const validCategories = filterValidCategories(allCategories);\n\n    const categoryPromises = validCategories.map(async category => {\n      try {\n        const books = await getBooksByCategory(category.list_name);\n        const filteredBooks = filterBooks(books);\n\n        return {\n          name: category.list_name,\n          count: filteredBooks.length,\n        };\n      } catch (error) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Error initializing categories',\n          position: 'topRight',\n        });\n        return {\n          name: category.list_name,\n          count: 0,\n        };\n      }\n    });\n\n    const results = await Promise.all(categoryPromises);\n\n    const categoriesWithBooks = results\n      .filter(result => result.count > 0)\n      .map(result => result.name);\n\n    createCategoryBooksList(categoriesWithBooks);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Error initializing categories',\n      position: 'topRight',\n    });\n  }\n}\n\nasync function updateBooksCounter() {\n  try {\n    const totalCount = await getTotalBooksCount();\n\n    const renderedCount = getPaginationValue();\n    createShowCase(renderedCount, totalCount);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Error updating books counter',\n      position: 'topRight',\n    });\n  }\n}\n\nexport { updateBooksCounter };\n\nfunction toggleShowMoreButton(shouldShow) {\n  if (shouldShow) {\n    showShowMoreBtn();\n  } else {\n    hideShowMoreBtn();\n  }\n}\n\n// App initialization functions\nfunction extractBooksFromCategories(categoriesData) {\n  if (!Array.isArray(categoriesData)) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Incorrect categories data',\n      position: 'topRight',\n    });\n    return [];\n  }\n\n  return categoriesData.flatMap(category => {\n    if (category && Array.isArray(category.books)) {\n      return category.books;\n    }\n    return [];\n  });\n}\n\nfunction showLoadingState() {\n  const loadingEl = document.querySelector('.loading-indicator');\n  if (loadingEl) {\n    loadingEl.classList.remove('is-hidden');\n  }\n}\n\nfunction hideLoadingState() {\n  const loadingEl = document.querySelector('.loading-indicator');\n  if (loadingEl) {\n    loadingEl.classList.add('is-hidden');\n  }\n}\n\nfunction showInitializationError() {\n  topBooksListEl.innerHTML = `\n    <li class=\"error-state\">\n      <p>Failed to load books. Please refresh the page.</p>\n      <button onclick=\"location.reload()\" class=\"retry-btn\">Refresh</button>\n    </li>\n  `;\n}\n\n// App initialization function\nasync function initializeApp() {\n  try {\n    showLoadingState();\n\n    const topBooksData = await getTopBooks();\n    const initialBooks = extractBooksFromCategories(topBooksData);\n\n    await displayBooks(initialBooks, {\n      isInitialLoad: true,\n      selectedCategory: INITIAL_CATEGORY,\n      resetContent: true,\n    });\n\n    hideLoadingState();\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'App initialization error',\n      position: 'topRight',\n    });\n    showInitializationError();\n  }\n}\n\n// Dropdown menu creation function\nexport function createDropdown(selector) {\n  const dropdown = document.querySelector(selector);\n  const btn = dropdown.querySelector('.dropdown-btn');\n  const menu = dropdown.querySelector('.dropdown-menu');\n  const text = dropdown.querySelector('.dropdown-text');\n  const items = dropdown.querySelectorAll('.dropdown-item');\n\n  // Set initial value\n  const selected = dropdown.querySelector('.dropdown-item.selected');\n  if (selected) text.textContent = selected.textContent;\n\n  // Open/close\n  btn.onclick = () => dropdown.classList.toggle('open');\n\n  // Item selection\n  items.forEach(item => {\n    item.onclick = () => {\n      items.forEach(i => i.classList.remove('selected'));\n      item.classList.add('selected');\n      text.textContent = item.textContent;\n      dropdown.classList.remove('open');\n\n      // Callback\n      dropdown.dispatchEvent(\n        new CustomEvent('change', {\n          detail: { value: item.dataset.value, text: item.textContent },\n        })\n      );\n    };\n  });\n\n  // Close when clicking outside element\n  document.onclick = e => {\n    if (!dropdown.contains(e.target)) {\n      dropdown.classList.remove('open');\n    }\n  };\n}\n\n// App initialization\ndocument.addEventListener('DOMContentLoaded', initializeApp);\n\n// Dropdown initialization\ncreateDropdown('#categoryDropdown');\n\n// Empty event handler for dropdown (can be extended if needed)\ndocument.querySelector('#categoryDropdown').addEventListener('change', e => {});\n","import { getBooksByCategory, getTotalBooks } from './api.js';\nimport {\n  displayBooks,\n  getBooksPerScreen,\n  createTopBooksList,\n  hideShowMoreBtn,\n  getPage,\n  incrementPage,\n  allTopBooks,\n  updateBooksCounter,\n} from './render-functions.js';\nimport iziToast from 'izitoast';\n\nconst dropdownMenuEl = document.querySelector('.dropdown-menu');\nconst showMoreBtnEl = document.querySelector('.show-more-btn');\n\nconst perPage = 4;\nlet paginationValue = getBooksPerScreen();\n\nexport function getPaginationValue() {\n  return paginationValue;\n}\n\nexport function setPaginationValue(value) {\n  paginationValue = value;\n}\n\n// Button show more\nasync function handleShowMore() {\n  showMoreBtnEl.blur();\n\n  incrementPage();\n  const page = getPage();\n  const booksForScreen = getBooksPerScreen();\n\n  const start = booksForScreen + (page - 2) * perPage;\n  const end = start + perPage;\n  const nextBooks = allTopBooks.slice(start, end);\n  paginationValue = Math.min(end, allTopBooks.length);\n\n  createTopBooksList(nextBooks);\n\n  await updateBooksCounter();\n\n  // If reached end of list\n  if (end >= allTopBooks.length) {\n    hideShowMoreBtn();\n    iziToast.info({\n      message: \"You've reached the end of the book list.\",\n      position: 'topRight',\n    });\n  }\n}\n\n// Filter valid categories\nfunction filterValidCategories(category) {\n  return (\n    category &&\n    category.trim() !== '' &&\n    category.trim() !== ' ' &&\n    category.toLowerCase() !== 'undefined' &&\n    category.toLowerCase() !== 'null'\n  );\n}\n\n// Select dropdown\nasync function handleCategoryClick(event) {\n  const categoryItem = event.target.closest('.dropdown-item');\n  if (!categoryItem) return;\n\n  const selectedCategory = categoryItem.textContent.trim();\n\n  // Filter out invalid categories\n  if (!filterValidCategories(selectedCategory)) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Invalid category selected',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  // Update button text\n  const btnText = document.querySelector('.dropdown-btn .dropdown-text');\n  if (btnText) {\n    btnText.textContent = selectedCategory;\n  }\n\n  // Get books for selected category\n  let books;\n  if (selectedCategory === 'All categories') {\n    books = await getTotalBooks();\n  } else {\n    books = await getBooksByCategory(selectedCategory);\n  }\n\n  // Display books\n  await displayBooks(books, {\n    selectedCategory: selectedCategory,\n    resetContent: true,\n  });\n\n  // Close dropdown\n  const dropdown = document.querySelector('#categoryDropdown');\n  dropdown.classList.remove('open');\n}\n\n// Event listeners\nif (showMoreBtnEl) {\n  showMoreBtnEl.addEventListener('click', handleShowMore);\n}\n\nif (dropdownMenuEl) {\n  dropdownMenuEl.addEventListener('click', handleCategoryClick);\n}\n","const scrollBtn = document.querySelector('.scroll-up');\n\nwindow.addEventListener('scroll', () => {\n  if (window.scrollY > 800) {\n    scrollBtn.classList.add('visible');\n  } else {\n    scrollBtn.classList.remove('visible');\n  }\n});\n\nscrollBtn.addEventListener('click', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const form = document.querySelector('.footer-form');\n  const input = document.querySelector('.footer-form-input');\n\n  form.addEventListener('submit', function (e) {\n    e.preventDefault();\n\n    input.value = input.value.trim();\n\n    if (!input.checkValidity()) {\n      input.classList.add('error');\n\n      let errorMessage = 'Please enter a valid email address';\n\n      if (input.validity.valueMissing) {\n        errorMessage = 'Email field cannot be empty';\n      } else if (input.validity.typeMismatch) {\n        errorMessage = 'Please enter a valid email format (example@domain.com)';\n      } else if (input.validity.patternMismatch) {\n        errorMessage =\n          'Email format not supported. Use simple format like name@domain.com';\n      }\n\n      iziToast.error({\n        title: 'Error',\n        message: errorMessage,\n        position: 'topRight',\n        timeout: 4000,\n      });\n      return;\n    }\n\n    const existingEmails =\n      JSON.parse(localStorage.getItem('subscribedEmails')) || [];\n    if (existingEmails.some(item => item.email === input.value)) {\n      input.classList.add('error');\n\n      iziToast.warning({\n        title: 'Warning',\n        message: 'You are already subscribed with this email address',\n        position: 'topRight',\n        timeout: 4000,\n      });\n      return;\n    }\n\n    saveEmailToStorage(input.value);\n\n    input.value = '';\n\n    iziToast.success({\n      title: 'Success!',\n      message: 'Thank you! Your email has been successfully submitted.',\n      position: 'topRight',\n      timeout: 4000,\n      theme: 'light',\n    });\n  });\n\n  input.addEventListener('input', function () {\n    this.classList.remove('error');\n  });\n\n  function saveEmailToStorage(email) {\n    let emails = JSON.parse(localStorage.getItem('subscribedEmails')) || [];\n\n    emails.push({\n      email: email,\n    });\n\n    localStorage.setItem('subscribedEmails', JSON.stringify(emails));\n  }\n});\n","import Accordion from \"accordion-js\";\nimport \"accordion-js/dist/accordion.min.css\";\nimport { body } from './header';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getBooksById } from \"./api.js\";\nimport { topBooksListEl } from \"./render-functions.js\";\n\n\nconst accordionInstance = new Accordion(\"#accordion\", { showMultiple: true });\nconst textWrapperEl = document.querySelector('#text-wrap-modal-books');\nconst accordionEl = document.querySelector('#accordion');\nconst modalBooksEl = document.querySelector('#modal-books');\nconst formEl = document.querySelector('#book-modal-form');\nconst cartEl = document.querySelector('#cart-button');\nconst dynamicText = modalBooksEl.querySelector('#dynamic-text');\n\nlet bookId;\n\n// ? Елементи лічильника кількості книжок, що добавляються в корзину.\nconst quantityEl = document.querySelector('#quantity-wrapper')\nconst decreaseEl = quantityEl.children[0];\nconst inputEl = quantityEl.children[1];\nconst increaseEl = quantityEl.children[2];\n\n\n// ? Змінна відповідає за кількість товарів в корзині і айді книжки\nexport let totalQuantity = 0;\nexport let bookCartId;\n\n// ? Відкриття модального вікна\nconst modalOpen = async (e) => {\n  if (e.target.classList.contains('top-book-btn')) {\n     modalBooksEl.classList.add('books-window-is-open');\n  body.classList.add(\"no-scroll\");\n  inputEl.value = 1;\n  // ? Дістаєм найближчий елемент списку, читаєм його айді.\n  let bookListEl = e.target.closest('li');\n  bookId = bookListEl.id;\n\n  // ? Якщо айді присутній, відправляється запит по айдішнику і виконується розмітка. Якщо ні, виводиться помилка і модальне вікно закривається.\n  if(bookId){\n      try {\n        const bookData = await getBooksById(bookId);\n        markupHandler(bookData);\n      } catch (err) {\n        iziToast.error({\n          title: 'Error',\n          message: `Failed to fetch book data: ${err}`});\n      }\n  } else {\n      iziToast.error({\n        title: 'Error',\n        message: `Book ID not found`\n      });\n        modalBooksEl.classList.remove('books-window-is-open');\n  body.classList.remove(\"no-scroll\");\n  }\n  }\n}\ntopBooksListEl.addEventListener('click', modalOpen);\n\n\nconst markupCleaner = () => {\n  const dynamicAccordion = accordionEl.querySelector('.ac-dynamic');\nif (dynamicAccordion) dynamicAccordion.remove();\n\nconst bookImage = modalBooksEl.querySelector('.books-modal-image');\nif (bookImage) bookImage.remove();\n\nif (dynamicText) dynamicText.innerHTML = '';\n\n};\n\n\nconst markupHandler = ({ title, description, author, book_image, book_image_width, book_image_height, price}) => {\n  markupCleaner()\n  if (description === \"\") {\n    description = \"There is no description for this book.\";\n  }\n  textWrapperEl.insertAdjacentHTML(\"beforebegin\", `<img  class=\"books-modal-image\" loading=\"lazy\" src=\"${book_image}\" width=\"${book_image_width}\" height=\"${book_image_height}\" alt=\"${title}\">`)\n    dynamicText.insertAdjacentHTML(\"afterbegin\",\n        `<h2 class=\"book-title-modal\">${title}</h2>\n        <h3 class=\"book-author-modal\">${author}</h3>\n        <h3 class=\"book-price\">$${price}</h3>`\n    )\n    accordionEl.insertAdjacentHTML(\"afterbegin\",\n        `<div class=\"ac ac-dynamic\">\n          <h2 class=\"ac-header\">\n            <button type=\"button\" class=\"ac-trigger\">Details\n              <span class=\"chevron-span\">\n                <svg class=\"icon-chevron\" width=\"24\" height=\"25\">\n                  <use\n                    class=\"chevron-use\"\n                    href=\"./img/icons.svg#icon-chevron-down\"\n                  ></use>\n                </svg>\n              </span></button>\n          </h2>\n          <div class=\"ac-panel\">\n            <p class=\"ac-text\">\n              ${description}\n            </p>\n          </div>\n        </div>`\n    )\n  accordionInstance.update();\n}\n\n\n\n// ? Функціонал кнопок відняти/додати\nconst increaseHandler = (e) => {\n    e.target.blur();\n  inputEl.value = Number(inputEl.value) + 1;\n};\nconst decreaseHandler = (e) => {\n    e.target.blur();\n  if (Number(inputEl.value) != 1) {\n    inputEl.value = Number(inputEl.value) - 1;\n  }\n}\nincreaseEl.addEventListener('click', increaseHandler);\ndecreaseEl.addEventListener('click', decreaseHandler);\n\n// ? Логіка кнопки корзини\nconst cartHandler = (e) => {\n  e.target.blur();\n  totalQuantity += Number(inputEl.value); //? Відповідає за кількість цієї книжки у корзині\n  bookCartId = bookId; // ? Відповідає за айді книжки у корзині\n   iziToast.info({\n    title: 'Hello',\n     message: `Successfully added ${inputEl.value} items to the cart!`,\n});\n};\ncartEl.addEventListener('click', cartHandler);\n\n\n// ? Логіка кнопки купити\nconst onSubmit = (e) => {\n  e.preventDefault();\n  e.target.blur();\n  iziToast.info({\n    title: 'Hello',\n    message: 'Thank you for your purchase!',\n});\n}\nformEl.addEventListener('submit', onSubmit);\n\n// ? Відповідає за закривання вікна на кнопку закриття, бекдроп або кнопку купівлі, а також нажату клавішу Escape\nconst modalCloseClickHandler = (e) => {\n  if (e.target.classList.contains('mob-books-close') || e.target.classList.contains('modal-window-books-backdrop') || e.target.classList.contains('buy-button')) {\n    modalBooksEl.classList.remove('books-window-is-open');\n    body.classList.remove(\"no-scroll\")\n  }\n};\nconst modalEscapeHandler = (e) => {\n  if (e.key === \"Escape\") {\n    modalBooksEl.classList.remove('books-window-is-open');\n    body.classList.remove(\"no-scroll\")\n  }\n\n}\ndocument.addEventListener('keydown', modalEscapeHandler)\nmodalBooksEl.addEventListener('click', modalCloseClickHandler);\n\n"],"names":["Swiper","Navigation","Pagination","el","getRandomFutureTime","daysAhead","now","future","options","modal","backdrop","closeBtn","form","STORAGE_KEY","nameInput","emailInput","messageInput","saveToStorage","formData","restoreFromStorage","saved","data","iziToast","clearStorage","openButtons","subtitleEl","btn","e","subtitle","openModal","closeModal","input","name","email","hasError","error","burgerEl","menuEl","navListEl","body","onBurgerClick","closeMenuHandler","button","navLink","hideElement","swiper","Keyboard","getCurrentSlidesPerGroup","width","togglePaginationAndNavigation","totalSlides","currentGroup","paginationEl","prevBtn","nextBtn","Autoplay","SLIDES","wrapperContainer","generateMarkup","arr","slide","createGallery","slides","axios","categoriesCache","totalBooksCache","getCategoryList","filteredCategories","category","getTopBooks","getBooksByCategory","encodedCategory","getBooksById","id","getTotalBooks","categories","categoryNames","allBooks","uniqueTitles","filteredBooks","book","normalizedTitle","topBooksListEl","dropdownMenuEl","showMoreBtnEl","showCountEl","allTopBooks","page","currentCategory","INITIAL_CATEGORY","getTotalBooksCount","displayBooks","books","isInitialLoad","selectedCategory","resetContent","clearBooksContent","resetPage","filterBooks","updateAllBooks","booksPerScreen","getBooksPerScreen","initialBooks","setPaginationValue","createTopBooksList","showEmptyState","initializeCategories","updateBooksCounter","toggleShowMoreButton","showErrorState","markup","filterValidCategories","createCategoryBooksList","categoryName","item","createShowCase","count","total","getPage","incrementPage","showShowMoreBtn","hideShowMoreBtn","allCategories","categoryPromises","categoriesWithBooks","result","totalCount","renderedCount","getPaginationValue","shouldShow","extractBooksFromCategories","categoriesData","showLoadingState","loadingEl","hideLoadingState","showInitializationError","initializeApp","topBooksData","createDropdown","selector","dropdown","text","items","selected","i","perPage","paginationValue","value","handleShowMore","start","end","nextBooks","handleCategoryClick","event","categoryItem","btnText","scrollBtn","errorMessage","saveEmailToStorage","emails","accordionInstance","Accordion","textWrapperEl","accordionEl","modalBooksEl","formEl","cartEl","dynamicText","bookId","quantityEl","decreaseEl","inputEl","increaseEl","totalQuantity","modalOpen","bookData","markupHandler","err","markupCleaner","dynamicAccordion","bookImage","title","description","author","book_image","book_image_width","book_image_height","price","increaseHandler","decreaseHandler","cartHandler","onSubmit","modalCloseClickHandler","modalEscapeHandler"],"mappings":"yyBAMA,SAAS,iBAAiB,mBAAoB,IAAM,CACnC,IAAIA,EAAO,iBAAkB,CAC1C,QAAS,CAACC,EAAYC,CAAU,EAChC,aAAc,wBACd,WAAY,sBACZ,KAAM,GACN,aAAc,GACd,cAAe,EAEf,YAAa,CACX,IAAK,CACH,cAAe,CAChB,EACD,KAAM,CACJ,cAAe,CAChB,CACF,EAED,WAAY,CACV,OAAQ,6BACR,OAAQ,6BACR,cAAe,+BAChB,EAED,WAAY,CACV,GAAI,4BACJ,UAAW,EACZ,CACL,CAAG,EAIoB,SAAS,iBAAiB,mBAAmB,EACrD,QAAQC,GAAM,CACzBA,EAAG,YAAcC,IACrB,CAAG,CACH,CAAC,EAED,SAASA,GAAoBC,EAAY,GAAI,CAC3C,MAAMC,EAAM,IAAI,KACVC,EAAS,IAAI,KACjBD,EAAI,UAAY,KAAK,OAAM,EAAKD,EAAY,GAAK,GAAK,GAAK,GAC/D,EAEQG,EAAU,CACd,MAAO,OACP,IAAK,UACL,KAAM,UACN,OAAQ,UACR,OAAQ,EACZ,EAEE,MAAO,MAAMD,EAAO,eAAe,QAASC,CAAO,CAAC,EACtD,CCxDA,MAAMC,EAAQ,SAAS,eAAe,OAAO,EACvCC,EAAW,SAAS,eAAe,eAAe,EAClDC,GAAW,SAAS,eAAe,YAAY,EAC/CC,EAAO,SAAS,eAAe,cAAc,EAG7CC,EAAc,qBAGdC,EAAYF,EAAK,SAAS,KAC1BG,EAAaH,EAAK,SAAS,MAC3BI,EAAeJ,EAAK,SAAS,QAKnC,SAASK,GAAgB,CACvB,MAAMC,EAAW,CACf,KAAMJ,EAAU,MAAM,KAAM,EAC5B,MAAOC,EAAW,MAAM,KAAM,EAC9B,QAASC,EAAa,MAAM,KAAM,CACtC,EACE,aAAa,QAAQH,EAAa,KAAK,UAAUK,CAAQ,CAAC,CAC5D,CAKA,SAASC,IAAqB,CAC5B,MAAMC,EAAQ,aAAa,QAAQP,CAAW,EAC9C,GAAKO,EAEL,GAAI,CACF,MAAMC,EAAO,KAAK,MAAMD,CAAK,EACzBC,EAAK,OAAMP,EAAU,MAAQO,EAAK,MAClCA,EAAK,QAAON,EAAW,MAAQM,EAAK,OACpCA,EAAK,UAASL,EAAa,MAAQK,EAAK,QAC7C,MAAe,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACT,SAAU,UAChB,CAAK,CACF,CACH,CAKA,SAASC,IAAe,CACtB,aAAa,WAAWV,CAAW,CACrC,CAKA,MAAMW,GAAc,SAAS,iBAAiB,iBAAiB,EACzDC,GAAahB,EAAM,cAAc,iBAAiB,EAExDe,GAAY,QAAQE,GAAO,CACzBA,EAAI,iBAAiB,QAASC,GAAK,CACjC,MAAMC,EAAWF,EAAI,QAAQ,UAAY,GACzCD,GAAW,YAAcG,EACzBC,IACJ,CAAG,CACH,CAAC,EAED,SAASA,IAAY,CACnBpB,EAAM,MAAM,QAAU,QACtBC,EAAS,MAAM,QAAU,QACzB,SAAS,KAAK,UAAU,IAAI,YAAY,EACxCS,IACF,CAEA,SAASW,GAAa,CACpBrB,EAAM,MAAM,QAAU,OACtBC,EAAS,MAAM,QAAU,OACzB,SAAS,KAAK,UAAU,OAAO,YAAY,CAC7C,CAMAC,GAAS,iBAAiB,QAASmB,CAAU,EAC7CpB,EAAS,iBAAiB,QAAS,GAAK,CAClC,EAAE,SAAWA,GACfoB,GAEJ,CAAC,EAED,SAAS,iBAAiB,UAAW,GAAK,CACpC,EAAE,MAAQ,UAAUA,EAAU,CACpC,CAAC,EAED,CAAChB,EAAWC,EAAYC,CAAY,EAAE,QAAQe,GAAS,CACrDA,EAAM,iBAAiB,QAASd,CAAa,CAC/C,CAAC,EAEDL,EAAK,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAEhB,MAAMoB,EAAOlB,EAAU,MAAM,KAAI,EAC3BmB,EAAQlB,EAAW,MAAM,KAAI,EAGnC,CAACD,EAAWC,CAAU,EAAE,QAAQgB,GAAS,CACvCA,EAAM,iBAAiB,QAAS,IAAM,CACpCA,EAAM,UAAU,OAAO,OAAO,EAC9Bd,GACN,CAAK,CACL,CAAG,EAED,IAAIiB,EAAW,GA0Bf,IAxBI,CAACF,GAAQ,CAACC,KACZX,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,kDACT,SAAU,UAChB,CAAK,EAEIU,GAAMlB,EAAU,UAAU,IAAI,OAAO,EACrCmB,GAAOlB,EAAW,UAAU,IAAI,OAAO,EAE5CmB,EAAW,IAITD,GAAS,CAACA,EAAM,SAAS,GAAG,IAC9BX,EAAS,MAAM,CACb,MAAO,gBACP,QAAS,gCACT,SAAU,UAChB,CAAK,EACDP,EAAW,UAAU,IAAI,OAAO,EAChCmB,EAAW,IAGT,CAAAA,EAEJ,GAAI,CAEF,GAAID,IAAU,oBACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1CX,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,kBACT,SAAU,UAChB,CAAK,EAEDV,EAAK,MAAK,EACVW,KACAO,GACD,OAAQK,EAAO,CACdb,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBAAyBa,EAAM,OAAO,GAC/C,SAAU,UAChB,CAAK,CACF,CACH,CAAC,ECrKD,MAAMC,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAY,SAAS,cAAc,YAAY,EACxCC,EAAO,SAAS,KAGvBC,GAAiB,GAAM,CACzBH,EAAO,UAAU,IAAI,eAAe,EACpCE,EAAK,UAAU,IAAI,WAAW,CAClC,EAGME,GAAoB,GAAM,CAE5B,MAAMC,EAAS,EAAE,OAAO,QAAQ,QAAQ,EAClCC,EAAU,EAAE,OAAO,QAAQ,oBAAoB,GAEnDD,GAAUC,KACVN,EAAO,UAAU,OAAO,eAAe,EACvCE,EAAK,UAAU,OAAO,WAAW,EAEvC,EAGMK,EAAc,IAAM,CAClB,OAAO,YAAc,KACrBN,EAAU,UAAU,OAAO,iBAAiB,EAC5CF,EAAS,UAAU,IAAI,iBAAiB,IAGxCA,EAAS,UAAU,OAAO,iBAAiB,EAC3CE,EAAU,UAAU,IAAI,iBAAiB,EAEjD,EAEAM,EAAa,EACbR,EAAS,iBAAiB,QAASI,EAAa,EAChDH,EAAO,iBAAiB,QAASI,EAAgB,EACjD,OAAO,iBAAiB,SAAUG,CAAW,EChC7C,MAAMC,GAAS,IAAI7C,EAAO,mBAAoB,CAC5C,QAAS,CAACC,EAAYC,EAAY4C,CAAQ,EAC1C,aAAc,0BACd,WAAY,wBACZ,KAAM,GACN,UAAW,aACX,cAAe,EACf,eAAgB,EAChB,eAAgB,GAChB,cAAe,GACf,WAAY,EACZ,WAAY,GACZ,cAAe,GACf,MAAO,IACP,aAAc,GAEd,KAAM,CACJ,aAAc,GACd,sBAAuB,EACxB,EAED,YAAa,CACX,IAAK,CACH,cAAe,EACf,eAAgB,CACjB,EACD,KAAM,CACJ,cAAe,EACf,eAAgB,CACjB,CACF,EAED,WAAY,CACV,GAAI,4BACJ,KAAM,UACN,UAAW,GACX,YAAa,2BACb,kBAAmB,iCACpB,EAED,WAAY,CACV,OAAQ,sCACR,OAAQ,sCACR,cAAe,wCAChB,EAED,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,CACH,CAAC,EAED,SAASC,IAA2B,CAClC,MAAMC,EAAQ,OAAO,WACrB,OAAIA,GAAS,KAAa,EACtBA,GAAS,IAAY,EAClB,CACT,CAEA,SAASC,GAAgC,CACvC,MAAMC,EAAcL,GAAO,OAAO,OAC5BM,EAAeJ,KAEfK,EAAe,SAAS,cAAc,2BAA2B,EACjEC,EAAU,SAAS,cAAc,qCAAqC,EACtEC,EAAU,SAAS,cAAc,qCAAqC,EAExEJ,GAAeC,GACbC,IAAcA,EAAa,MAAM,QAAU,QAC3CC,IAASA,EAAQ,MAAM,QAAU,QACjCC,IAASA,EAAQ,MAAM,QAAU,UAEjCF,IAAcA,EAAa,MAAM,QAAU,IAC3CC,IAASA,EAAQ,MAAM,QAAU,IACjCC,IAASA,EAAQ,MAAM,QAAU,IAEzC,CAEAL,IAGA,OAAO,iBAAiB,SAAU,IAAM,CACtCA,GACF,CAAC,ECtFc,IAAIjD,EAAO,eAAgB,CACxC,QAAS,CAACC,EAAYC,EAAYqD,GAAUT,CAAQ,EACpD,UAAW,aACX,KAAM,GACN,aAAc,GACd,WAAY,GACZ,SAAU,CACR,MAAO,KACP,qBAAsB,GACtB,kBAAmB,EACpB,EAED,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EAED,WAAY,CACV,OAAQ,2BACR,OAAQ,0BACT,EAED,GAAI,CACF,YAAYD,EAAQ,CAClB,MAAMS,EAAU,SAAS,cAAc,0BAA0B,EAC3DD,EAAU,SAAS,cAAc,0BAA0B,EAEjER,EAAO,MACHS,GAAA,MAAAA,EAAS,UAAU,IAAI,eACvBA,GAAA,MAAAA,EAAS,UAAU,OAAO,eAE9BT,EAAO,YACHQ,GAAA,MAAAA,EAAS,UAAU,IAAI,eACvBA,GAAA,MAAAA,EAAS,UAAU,OAAO,cAC/B,EAED,KAAKR,EAAQ,CACX,MAAMQ,EAAU,SAAS,cAAc,0BAA0B,EACjER,EAAO,YACHQ,GAAA,MAAAA,EAAS,UAAU,IAAI,eACvBA,GAAA,MAAAA,EAAS,UAAU,OAAO,cAC/B,CACF,CACH,CAAC,EACD,SACG,iBAAiB,oDAAoD,EACrE,QAAQX,GAAU,CACjBA,EAAO,iBAAiB,UAAW,IAAM,CACvCA,EAAO,KAAI,CACjB,CAAK,CACL,CAAG,ECtDH,MAAMc,GAAS,CACb,CACE,IAAK,6BACL,KAAM,oBACN,UAAW,cACX,KAAM,SACN,OAAQ,CACN,QAAS,CACP,IAAK,2CACL,MAAO,6CACR,EACD,OAAQ,CACN,IAAK,yCACL,MAAO,2CACR,EACD,OAAQ,CACN,IAAK,mCACL,MAAO,qCACR,CACF,CACF,EACD,CACE,IAAK,iCACL,KAAM,eACN,UAAW,aACX,KAAM,SACN,OAAQ,CACN,QAAS,CACP,IAAK,2CACL,MAAO,6CACR,EACD,OAAQ,CACN,IAAK,yCACL,MAAO,2CACR,EACD,OAAQ,CACN,IAAK,mCACL,MAAO,qCACR,CACF,CACF,EACD,CACE,IAAK,mBACL,KAAM,gBACN,UAAW,uBACX,KAAM,SACN,OAAQ,CACN,QAAS,CACP,IAAK,2CACL,MAAO,6CACR,EACD,OAAQ,CACN,IAAK,yCACL,MAAO,2CACR,EACD,OAAQ,CACN,IAAK,mCACL,MAAO,qCACR,CACF,CACF,EACD,CACE,IAAK,oBACL,KAAM,0BACN,UAAW,qBACX,KAAM,SACN,OAAQ,CACN,QAAS,CACP,IAAK,2CACL,MAAO,6CACR,EACD,OAAQ,CACN,IAAK,yCACL,MAAO,2CACR,EACD,OAAQ,CACN,IAAK,mCACL,MAAO,qCACR,CACF,CACF,CACH,EAEMC,GAAmB,SAAS,cAAc,UAAU,EACpDC,GAAiBC,GACdA,EACJ,IAAIC,GACI;AAAA;AAAA,sEAEyDA,EAAM,OAAO,QAAQ,GAAG,QAAQA,EAAM,OAAO,QAAQ,KAAK;AAAA,qEAC3DA,EAAM,OAAO,OAAO,GAAG,QAAQA,EAAM,OAAO,OAAO,KAAK;AAAA;AAAA,mBAE1GA,EAAM,OAAO,OAAO,GAAG;AAAA,sBACpBA,EAAM,OAAO,OAAO,GAAG,QAAQA,EAAM,OAAO,OAAO,KAAK;AAAA;AAAA;AAAA;AAAA,mBAI3DA,EAAM,GAAG;AAAA;AAAA;AAAA;AAAA,gBAIZA,EAAM,IAAI,gCAAgCA,EAAM,SAAS;AAAA;AAAA,yCAEhCA,EAAM,IAAI;AAAA;AAAA,cAG9C,EACA,KAAK,EAAE,EAGNC,GAAgBC,GAAU,CAC9BL,GAAiB,UAAYC,GAAeI,CAAM,CACpD,EAEAD,GAAcL,EAAM,EC/GpBO,EAAM,SAAS,QAAU,6CAEzB,IAAIC,EAAkB,KAClBC,EAAkB,KAGf,eAAeC,GAAkB,CACtC,GAAIF,IAAoB,KACtB,OAAOA,EAGT,GAAI,CAGF,MAAMG,GAFW,MAAMJ,EAAM,IAAI,eAAe,GAEZ,KAAK,OACvCK,GACEA,GACAA,EAAS,WACTA,EAAS,UAAU,KAAI,IAAO,IAC9BA,EAAS,UAAU,KAAI,IAAO,GACtC,EACI,OAAAJ,EAAkBG,EACXA,CACR,MAAe,CACd,OAAA7C,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4BACT,SAAU,UAChB,CAAK,EACM,EACR,CACH,CAGO,eAAe+C,IAAc,CAClC,GAAI,CAEF,OADiB,MAAMN,EAAM,IAAI,WAAW,GAC5B,IACjB,MAAe,CACd,OAAAzC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACT,SAAU,UAChB,CAAK,EACM,EACR,CACH,CAGO,eAAegD,EAAmBF,EAAU,CACjD,GAAI,CACF,MAAMG,EAAkB,mBAAmBH,CAAQ,EAGnD,OAFiB,MAAML,EAAM,IAAI,qBAAqBQ,CAAe,EAAE,GAEvD,IACjB,MAAe,CACd,OAAAjD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sCAAsC8C,CAAQ,GACvD,SAAU,UAChB,CAAK,EACM,EACR,CACH,CAGO,eAAeI,GAAaC,EAAI,CACrC,GAAI,CAEF,OADiB,MAAMV,EAAM,IAAIU,CAAE,GACnB,IACjB,MAAe,CACd,OAAAnD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACM,EACR,CACH,CAGO,eAAeoD,GAAgB,CACpC,GAAIT,IAAoB,KACtB,OAAOA,EAET,GAAI,CACF,MAAMU,EAAa,MAAMT,IACzB,GAAI,CAACS,GAAc,CAAC,MAAM,QAAQA,CAAU,EAC1C,MAAO,GAET,MAAMC,EAAgBD,EACnB,OAAOP,GAAYA,EAAS,SAAS,EACrC,IAAIA,GAAYA,EAAS,SAAS,EAM/BS,GAJkB,MAAM,QAAQ,IACpCD,EAAc,IAAIN,CAAkB,CAC1C,GAEqC,OAG3BQ,EAAe,IAAI,IACnBC,EAAgBF,EAAS,OAAOG,GAAQ,CAE5C,GAAI,CAACA,EAAK,OAAS,CAACA,EAAK,OAAS,WAAWA,EAAK,KAAK,GAAK,EAC1D,MAAO,GAGT,MAAMC,EAAkBD,EAAK,MAAM,KAAM,EAAC,YAAW,EACrD,OAAIF,EAAa,IAAIG,CAAe,EAC3B,IAGTH,EAAa,IAAIG,CAAe,EACzB,GACb,CAAK,EAEDhB,OAAAA,EAAkBc,EACXA,CACR,MAAe,CACd,OAAAzD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACT,SAAU,UAChB,CAAK,EACM,EACR,CACH,CCvHO,MAAM4D,EAAiB,SAAS,cAAc,iBAAiB,EAChEC,GAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAgB,SAAS,cAAc,gBAAgB,EACvDC,EAAc,SAAS,cAAc,aAAa,EAGjD,IAAIC,EAAc,CAAA,EACdC,EAAO,EAEPC,GAAkB,iBAG7B,MAAMC,GAAmB,MAGzB,IAAIxB,EAAkB,KAEtB,eAAeyB,IAAqB,CAClC,OAAIzB,IAAoB,OAEtBA,GADiB,MAAMS,KACI,QAEtBT,CACT,CAGO,eAAe0B,EAAaC,EAAOpF,EAAU,GAAI,CAEtD,KAAM,CACJ,cAAAqF,EAAgB,GAChB,iBAAAC,EAAmB,iBACnB,aAAAC,EAAe,EAChB,EAAGvF,EAEJ,GAAI,CAQF,GANIuF,IACFC,KACAC,MAIE,CAAC,MAAM,QAAQL,CAAK,EAAG,CACzBtE,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,yCACT,SAAU,UAClB,CAAO,EACD,MACD,CAGD,MAAMyD,EAAgBmB,EAAYN,CAAK,EAGvCO,GAAepB,CAAa,EAC5BS,GAAkBM,EAGlB,MAAMM,EAAiBC,IACjBC,EAAevB,EAAc,MAAM,EAAGqB,CAAc,EAE1DG,GAAmBD,EAAa,MAAM,EAGlCA,EAAa,OAAS,EACxBE,EAAmBF,CAAY,EAE/BG,KAIEZ,GACF,MAAMa,GAAoB,EAI5B,MAAMC,GAAkB,EACxBC,GAAqB7B,EAAc,OAASqB,CAAc,CAC3D,MAAe,CACd9E,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iCACT,SAAU,UAChB,CAAK,EACDuF,IACD,CACH,CAGO,SAASL,EAAmBZ,EAAO,CACxC,MAAMkB,EAASlB,EACZ,IACCZ,GAAQ;AAAA,wCAC0BA,EAAK,GAAG;AAAA;AAAA;AAAA,qBAG3BA,EAAK,UAAU;AAAA,qBACfA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMUA,EAAK,KAAK;AAAA,yCACVA,EAAK,KAAK;AAAA;AAAA,yCAEVA,EAAK,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAO/C,EACA,KAAK,EAAE,EAEVE,EAAe,mBAAmB,YAAa4B,CAAM,CACvD,CAGA,SAASC,GAAsBpC,EAAY,CACzC,OAAOA,EAAW,OAChBP,GACEA,GACAA,EAAS,WACTA,EAAS,UAAU,KAAI,IAAO,IAC9BA,EAAS,UAAU,KAAI,IAAO,KAC9BA,EAAS,UAAU,YAAW,IAAO,aACrCA,EAAS,UAAU,YAAW,IAAO,MAC3C,CACA,CAGA,eAAe4C,GAAwBrD,EAAK,CAW1C,MAAMmD,EATkBnD,EAAI,OAC1BsD,GACEA,GACAA,EAAa,KAAI,IAAO,IACxBA,EAAa,KAAI,IAAO,KACxBA,EAAa,YAAW,IAAO,aAC/BA,EAAa,YAAW,IAAO,MACrC,EAGK,IAAIC,GAAQ,gCAAgCA,CAAI,WAAW,EAC3D,KAAK,EAAE,EAEV/B,GAAe,mBAAmB,YAAa2B,CAAM,CACvD,CAGO,eAAeK,GAAeC,EAAOC,EAAO,CACjDhC,EAAY,UAAY,GACxB,MAAMyB,EAAS,cAAcM,CAAK,OAAOC,CAAK,OAC9ChC,EAAY,mBAAmB,YAAayB,CAAM,CACpD,CAGO,SAAST,GAAoB,CAElC,OADoB,OAAO,YACL,IAAM,GAAK,EACnC,CAEO,SAASiB,IAAU,CACxB,OAAO/B,CACT,CAEO,SAASgC,IAAgB,CAC9BhC,GAAQ,CACV,CAEO,SAASU,IAAY,CAC1BV,EAAO,CACT,CAGA,SAASW,EAAYN,EAAO,CAC1B,MAAMd,EAAe,IAAI,IAEzB,OAAOc,EAAM,OAAOZ,GAAQ,CAE1B,GAAI,CAACA,EAAK,OAAS,CAACA,EAAK,OAAS,WAAWA,EAAK,KAAK,GAAK,EAC1D,MAAO,GAIT,MAAMC,EAAkBD,EAAK,MAAM,KAAM,EAAC,YAAW,EAGrD,OAAIF,EAAa,IAAIG,CAAe,EAC3B,IAITH,EAAa,IAAIG,CAAe,EACzB,GACX,CAAG,CACH,CAGO,SAASkB,GAAeP,EAAO,CACpCN,EAAY,OAAS,EACrBA,EAAY,KAAK,GAAGM,CAAK,CAC3B,CAEO,MAAM4B,GAAkB,IAC7BpC,EAAc,UAAU,OAAO,WAAW,EAE/BqC,GAAkB,IAAMrC,EAAc,UAAU,IAAI,WAAW,EAG5E,SAASY,IAAoB,CAC3Bd,EAAe,UAAY,EAC7B,CAEA,SAASuB,IAAiB,CACxBvB,EAAe,UAAY,6CAC7B,CAEA,SAAS2B,IAAiB,CACxB3B,EAAe,UAAY,kDAC7B,CAEA,eAAewB,IAAuB,CACpC,GAAI,CACF,MAAMgB,EAAgB,MAAMxD,IAGtByD,EAFkBZ,GAAsBW,CAAa,EAElB,IAAI,MAAMtD,GAAY,CAC7D,GAAI,CACF,MAAMwB,EAAQ,MAAMtB,EAAmBF,EAAS,SAAS,EACnDW,EAAgBmB,EAAYN,CAAK,EAEvC,MAAO,CACL,KAAMxB,EAAS,UACf,MAAOW,EAAc,MAC/B,CACO,MAAe,CACd,OAAAzD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACT,SAAU,UACpB,CAAS,EACM,CACL,KAAM8C,EAAS,UACf,MAAO,CACjB,CACO,CACP,CAAK,EAIKwD,GAFU,MAAM,QAAQ,IAAID,CAAgB,GAG/C,OAAOE,GAAUA,EAAO,MAAQ,CAAC,EACjC,IAAIA,GAAUA,EAAO,IAAI,EAE5Bb,GAAwBY,CAAmB,CAC5C,MAAe,CACdtG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACT,SAAU,UAChB,CAAK,CACF,CACH,CAEA,eAAeqF,IAAqB,CAClC,GAAI,CACF,MAAMmB,EAAa,MAAMpC,KAEnBqC,EAAgBC,KACtBb,GAAeY,EAAeD,CAAU,CACzC,MAAe,CACdxG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAChB,CAAK,CACF,CACH,CAIA,SAASsF,GAAqBqB,EAAY,CACpCA,EACFT,KAEAC,IAEJ,CAGA,SAASS,GAA2BC,EAAgB,CAClD,OAAK,MAAM,QAAQA,CAAc,EAS1BA,EAAe,QAAQ/D,GACxBA,GAAY,MAAM,QAAQA,EAAS,KAAK,EACnCA,EAAS,MAEX,EACR,GAbC9C,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,4BACT,SAAU,UAChB,CAAK,EACM,GASX,CAEA,SAAS8G,IAAmB,CAC1B,MAAMC,EAAY,SAAS,cAAc,oBAAoB,EACzDA,GACFA,EAAU,UAAU,OAAO,WAAW,CAE1C,CAEA,SAASC,IAAmB,CAC1B,MAAMD,EAAY,SAAS,cAAc,oBAAoB,EACzDA,GACFA,EAAU,UAAU,IAAI,WAAW,CAEvC,CAEA,SAASE,IAA0B,CACjCrD,EAAe,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA,GAM7B,CAGA,eAAesD,IAAgB,CAC7B,GAAI,CACFJ,KAEA,MAAMK,EAAe,MAAMpE,KACrBiC,EAAe4B,GAA2BO,CAAY,EAE5D,MAAM9C,EAAaW,EAAc,CAC/B,cAAe,GACf,iBAAkBb,GAClB,aAAc,EACpB,CAAK,EAED6C,IACD,MAAe,CACdhH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACT,SAAU,UAChB,CAAK,EACDiH,IACD,CACH,CAGO,SAASG,GAAeC,EAAU,CACvC,MAAMC,EAAW,SAAS,cAAcD,CAAQ,EAC1CjH,EAAMkH,EAAS,cAAc,eAAe,EACrCA,EAAS,cAAc,gBAAgB,EACpD,MAAMC,EAAOD,EAAS,cAAc,gBAAgB,EAC9CE,EAAQF,EAAS,iBAAiB,gBAAgB,EAGlDG,EAAWH,EAAS,cAAc,yBAAyB,EAC7DG,IAAUF,EAAK,YAAcE,EAAS,aAG1CrH,EAAI,QAAU,IAAMkH,EAAS,UAAU,OAAO,MAAM,EAGpDE,EAAM,QAAQ5B,GAAQ,CACpBA,EAAK,QAAU,IAAM,CACnB4B,EAAM,QAAQE,GAAKA,EAAE,UAAU,OAAO,UAAU,CAAC,EACjD9B,EAAK,UAAU,IAAI,UAAU,EAC7B2B,EAAK,YAAc3B,EAAK,YACxB0B,EAAS,UAAU,OAAO,MAAM,EAGhCA,EAAS,cACP,IAAI,YAAY,SAAU,CACxB,OAAQ,CAAE,MAAO1B,EAAK,QAAQ,MAAO,KAAMA,EAAK,WAAa,CACvE,CAAS,CACT,CACA,CACA,CAAG,EAGD,SAAS,QAAUvF,GAAK,CACjBiH,EAAS,SAASjH,EAAE,MAAM,GAC7BiH,EAAS,UAAU,OAAO,MAAM,CAEtC,CACA,CAGA,SAAS,iBAAiB,mBAAoBJ,EAAa,EAG3DE,GAAe,mBAAmB,EAGlC,SAAS,cAAc,mBAAmB,EAAE,iBAAiB,SAAU,GAAK,EAAE,ECrZ9E,MAAMvD,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAgB,SAAS,cAAc,gBAAgB,EAEvD6D,EAAU,EAChB,IAAIC,EAAkB7C,EAAiB,EAEhC,SAAS2B,IAAqB,CACnC,OAAOkB,CACT,CAEO,SAAS3C,GAAmB4C,EAAO,CACxCD,EAAkBC,CACpB,CAGA,eAAeC,IAAiB,CAC9BhE,EAAc,KAAI,EAElBmC,KACA,MAAMhC,EAAO+B,KAGP+B,EAFiBhD,KAESd,EAAO,GAAK0D,EACtCK,EAAMD,EAAQJ,EACdM,EAAYjE,EAAY,MAAM+D,EAAOC,CAAG,EAC9CJ,EAAkB,KAAK,IAAII,EAAKhE,EAAY,MAAM,EAElDkB,EAAmB+C,CAAS,EAE5B,MAAM5C,GAAkB,EAGpB2C,GAAOhE,EAAY,SACrBmC,KACAnG,EAAS,KAAK,CACZ,QAAS,2CACT,SAAU,UAChB,CAAK,EAEL,CAGA,SAASyF,GAAsB3C,EAAU,CACvC,OACEA,GACAA,EAAS,KAAI,IAAO,IACpBA,EAAS,KAAI,IAAO,KACpBA,EAAS,YAAW,IAAO,aAC3BA,EAAS,YAAW,IAAO,MAE/B,CAGA,eAAeoF,GAAoBC,EAAO,CACxC,MAAMC,EAAeD,EAAM,OAAO,QAAQ,gBAAgB,EAC1D,GAAI,CAACC,EAAc,OAEnB,MAAM5D,EAAmB4D,EAAa,YAAY,KAAI,EAGtD,GAAI,CAAC3C,GAAsBjB,CAAgB,EAAG,CAC5CxE,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,4BACT,SAAU,UAChB,CAAK,EACD,MACD,CAGD,MAAMqI,EAAU,SAAS,cAAc,8BAA8B,EACjEA,IACFA,EAAQ,YAAc7D,GAIxB,IAAIF,EACAE,IAAqB,iBACvBF,EAAQ,MAAMlB,IAEdkB,EAAQ,MAAMtB,EAAmBwB,CAAgB,EAInD,MAAMH,EAAaC,EAAO,CACxB,iBAAkBE,EAClB,aAAc,EAClB,CAAG,EAGgB,SAAS,cAAc,mBAAmB,EAClD,UAAU,OAAO,MAAM,CAClC,CAGIV,GACFA,EAAc,iBAAiB,QAASgE,EAAc,EAGpDjE,GACFA,EAAe,iBAAiB,QAASqE,EAAmB,ECjH9D,MAAMI,EAAY,SAAS,cAAc,YAAY,EAErD,OAAO,iBAAiB,SAAU,IAAM,CAClC,OAAO,QAAU,IACnBA,EAAU,UAAU,IAAI,SAAS,EAEjCA,EAAU,UAAU,OAAO,SAAS,CAExC,CAAC,EAEDA,EAAU,iBAAiB,QAAS,IAAM,CACxC,OAAO,SAAS,CAAE,IAAK,EAAG,SAAU,QAAQ,CAAE,CAChD,CAAC,ECTD,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMhJ,EAAO,SAAS,cAAc,cAAc,EAC5CmB,EAAQ,SAAS,cAAc,oBAAoB,EAEzDnB,EAAK,iBAAiB,SAAU,SAAUe,EAAG,CAK3C,GAJAA,EAAE,eAAc,EAEhBI,EAAM,MAAQA,EAAM,MAAM,KAAI,EAE1B,CAACA,EAAM,gBAAiB,CAC1BA,EAAM,UAAU,IAAI,OAAO,EAE3B,IAAI8H,EAAe,qCAEf9H,EAAM,SAAS,aACjB8H,EAAe,8BACN9H,EAAM,SAAS,aACxB8H,EAAe,yDACN9H,EAAM,SAAS,kBACxB8H,EACE,sEAGJvI,EAAS,MAAM,CACb,MAAO,QACP,QAASuI,EACT,SAAU,WACV,QAAS,GACjB,CAAO,EACD,MACD,CAID,IADE,KAAK,MAAM,aAAa,QAAQ,kBAAkB,CAAC,GAAK,IACvC,KAAK3C,GAAQA,EAAK,QAAUnF,EAAM,KAAK,EAAG,CAC3DA,EAAM,UAAU,IAAI,OAAO,EAE3BT,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,qDACT,SAAU,WACV,QAAS,GACjB,CAAO,EACD,MACD,CAEDwI,EAAmB/H,EAAM,KAAK,EAE9BA,EAAM,MAAQ,GAEdT,EAAS,QAAQ,CACf,MAAO,WACP,QAAS,yDACT,SAAU,WACV,QAAS,IACT,MAAO,OACb,CAAK,CACL,CAAG,EAEDS,EAAM,iBAAiB,QAAS,UAAY,CAC1C,KAAK,UAAU,OAAO,OAAO,CACjC,CAAG,EAED,SAAS+H,EAAmB7H,EAAO,CACjC,IAAI8H,EAAS,KAAK,MAAM,aAAa,QAAQ,kBAAkB,CAAC,GAAK,GAErEA,EAAO,KAAK,CACV,MAAO9H,CACb,CAAK,EAED,aAAa,QAAQ,mBAAoB,KAAK,UAAU8H,CAAM,CAAC,CAChE,CACH,CAAC,EClED,MAAMC,GAAoB,IAAIC,GAAU,aAAc,CAAE,aAAc,EAAI,CAAE,EACtEC,GAAgB,SAAS,cAAc,wBAAwB,EAC/DC,GAAc,SAAS,cAAc,YAAY,EACjDC,EAAe,SAAS,cAAc,cAAc,EACpDC,GAAS,SAAS,cAAc,kBAAkB,EAClDC,GAAS,SAAS,cAAc,cAAc,EAC9CC,EAAcH,EAAa,cAAc,eAAe,EAE9D,IAAII,EAGJ,MAAMC,EAAa,SAAS,cAAc,mBAAmB,EACvDC,GAAaD,EAAW,SAAS,CAAC,EAClCE,EAAUF,EAAW,SAAS,CAAC,EAC/BG,GAAaH,EAAW,SAAS,CAAC,EAIjC,IAAII,GAAgB,EAI3B,MAAMC,GAAY,MAAO,GAAM,CAC7B,GAAI,EAAE,OAAO,UAAU,SAAS,cAAc,EAS9C,GARGV,EAAa,UAAU,IAAI,sBAAsB,EACpD7H,EAAK,UAAU,IAAI,WAAW,EAC9BoI,EAAQ,MAAQ,EAGhBH,EADiB,EAAE,OAAO,QAAQ,IAAI,EAClB,GAGjBA,EACC,GAAI,CACF,MAAMO,EAAW,MAAMvG,GAAagG,CAAM,EAC1CQ,GAAcD,CAAQ,CACvB,OAAQE,EAAK,CACZ3J,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BAA8B2J,CAAG,EAAE,CAAC,CAChD,MAED3J,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mBACjB,CAAO,EACC8I,EAAa,UAAU,OAAO,sBAAsB,EAC1D7H,EAAK,UAAU,OAAO,WAAW,CAGnC,EACA2C,EAAe,iBAAiB,QAAS4F,EAAS,EAGlD,MAAMI,GAAgB,IAAM,CAC1B,MAAMC,EAAmBhB,GAAY,cAAc,aAAa,EAC9DgB,GAAkBA,EAAiB,SAEvC,MAAMC,EAAYhB,EAAa,cAAc,oBAAoB,EAC7DgB,GAAWA,EAAU,SAErBb,IAAaA,EAAY,UAAY,GAEzC,EAGMS,GAAgB,CAAC,CAAE,MAAAK,EAAO,YAAAC,EAAa,OAAAC,EAAQ,WAAAC,EAAY,iBAAAC,EAAkB,kBAAAC,EAAmB,MAAAC,CAAK,IAAM,CAC/GT,GAAe,EACXI,IAAgB,KAClBA,EAAc,0CAEhBpB,GAAc,mBAAmB,cAAe,uDAAuDsB,CAAU,YAAYC,CAAgB,aAAaC,CAAiB,UAAUL,CAAK,IAAI,EAC5Ld,EAAY,mBAAmB,aAC3B,gCAAgCc,CAAK;AAAA,wCACLE,CAAM;AAAA,kCACZI,CAAK,OAClC,EACDxB,GAAY,mBAAmB,aAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAcQmB,CAAW;AAAA;AAAA;AAAA,eAItB,EACHtB,GAAkB,OAAM,CAC1B,EAKM4B,GAAmB,GAAM,CAC3B,EAAE,OAAO,OACXjB,EAAQ,MAAQ,OAAOA,EAAQ,KAAK,EAAI,CAC1C,EACMkB,GAAmB,GAAM,CAC3B,EAAE,OAAO,OACP,OAAOlB,EAAQ,KAAK,GAAK,IAC3BA,EAAQ,MAAQ,OAAOA,EAAQ,KAAK,EAAI,EAE5C,EACAC,GAAW,iBAAiB,QAASgB,EAAe,EACpDlB,GAAW,iBAAiB,QAASmB,EAAe,EAGpD,MAAMC,GAAe,GAAM,CACzB,EAAE,OAAO,OACTjB,IAAiB,OAAOF,EAAQ,KAAK,EAEpCrJ,EAAS,KAAK,CACb,MAAO,QACN,QAAS,sBAAsBqJ,EAAQ,KAAK,qBACjD,CAAC,CACD,EACAL,GAAO,iBAAiB,QAASwB,EAAW,EAI5C,MAAMC,GAAY,GAAM,CACtB,EAAE,eAAc,EAChB,EAAE,OAAO,OACTzK,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,8BACb,CAAC,CACD,EACA+I,GAAO,iBAAiB,SAAU0B,EAAQ,EAG1C,MAAMC,GAA0B,GAAM,EAChC,EAAE,OAAO,UAAU,SAAS,iBAAiB,GAAK,EAAE,OAAO,UAAU,SAAS,6BAA6B,GAAK,EAAE,OAAO,UAAU,SAAS,YAAY,KAC1J5B,EAAa,UAAU,OAAO,sBAAsB,EACpD7H,EAAK,UAAU,OAAO,WAAW,EAErC,EACM0J,GAAsB,GAAM,CAC5B,EAAE,MAAQ,WACZ7B,EAAa,UAAU,OAAO,sBAAsB,EACpD7H,EAAK,UAAU,OAAO,WAAW,EAGrC,EACA,SAAS,iBAAiB,UAAW0J,EAAkB,EACvD7B,EAAa,iBAAiB,QAAS4B,EAAsB"}